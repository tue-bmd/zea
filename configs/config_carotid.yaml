# config_carotid.yaml - comments were autogenerated from PARAMETER_DESCRIPTIONS in zea/config/parameters.py
# The data section contains the parameters for the data.
data:
  # The path of the folder to load data files from (relative to the user data
  # root as set in users.yaml)
  dataset_folder: hf://zeahub/zea-carotid-2023
  # The path of the file to load when running the UI (either an absolute path or
  # one relative to the dataset folder)
  file_path: 2_cross_bifur_right_0000.hdf5
  # true: use local data on this device, false: use data from NAS
  local: false
  # The form of data to load (raw_data, rf_data, iq_data, beamformed_data,
  # envelope_data, image, image_sc)
  dtype: raw_data
  # The dynamic range for showing data in db [min, max]
  dynamic_range: [-40, 0]
  # The frame number to load when running the UI (null, int, 'all')
  frame_no: all


# The scan section contains the parameters pertaining to the reconstruction.
scan:
  # The number of transmits in a frame. Can be 'all' for all transmits, an
  # integer for a specific number of transmits selected evenly from the
  # transmits in the frame, or a list of integers for specific transmits to
  # select from the frame.
  selected_transmits: all # 149 is all or 11 for instance for reduce number of Tx
  # The number of channels in the raw data (1 for rf data, 2 for iq data)
  n_ch: 1
  # The number of pixels in the beamforming grid in the x-direction
  Nx: 400
  # The number of pixels in the beamforming grid in the z-direction
  Nz: 600

# This section contains the necessary parameters for building the pipeline.
pipeline:
  # The operations to perform on the data. This is a list of dictionaries, where
  # each dictionary contains the parameters for a single operation.
  operations:
    - name: demodulate
    - name: "patched_grid"
      params:
        operations:
          - name: tof_correction
            params:
              apply_phase_rotation: true
          - name: pfield_weighting
          - name: delay_and_sum
        num_patches: 100
    - name: envelope_detect
    - name: normalize
    - name: log_compress

# The device to run on ('cpu', 'gpu:0', 'gpu:1', ...)
device: auto:1

# Settings pertaining to plotting when running the UI (`zea --config
# <path-to-config.yaml>`)
plot:
  # Set to true to save the plots to disk, false to only display them in the UI
  save: true
  # The plotting library to use (opencv, matplotlib)
  plot_lib: opencv
  # Set to true to run the UI in headless mode
  headless: false
  # The name for the plot
  tag: carotid